# 2025.8.17

给你一个整数数组 nums 。

如果一组数字 (i,j) 满足 nums[i] == nums[j] 且 i < j ，就可以认为这是一组 **好数对** 。

返回好数对的数目。

 
```
示例 1：

输入：nums = [1,2,3,1,1,3]
输出：4
解释：有 4 组好数对，分别是 (0,3), (0,4), (3,4), (2,5) ，下标从 0 开始
```
```
示例 2：

输入：nums = [1,1,1,1]
输出：6
解释：数组中的每组数字都是好数对
```
```
示例 3：

输入：nums = [1,2,3]
输出：0
```

提示：

- 1 <= nums.length <= 100
- 1 <= nums[i] <= 100


# 灵神
用一个哈希表 cnt 统计 j 左边的每个数的出现次数。其中 $cnt[x]$ 表示在 j 左边的值为 x 元素个数。

例如 $nums=[1,1,2,1]$，遍历到 j=3 时，左边有 $cnt[1]=2$ 个 1，那么就找到了 2 个好数对，把 2 加入答案。

```python
class Solution:
    def numIdenticalPairs(self, nums: List[int]) -> int:
        ans = 0
        cnt = defaultdict(int)
        for x in nums:  # x = nums[j]
            # cnt[x] 表示 [0,j-1] 中的 x 的个数
            ans += cnt[x]
            cnt[x] += 1
            # 现在 cnt[x] 表示 [0,j] 中的 x 的个数
        return ans
```

**关于 defaultdict 的解释**
defaultdict 是 Python 标准库 collections 模块中的一个类，它是字典 dict 的子类，主要特点是：

1.当访问一个不存在的键时，会自动创建该键并赋予默认值，而不会抛出 KeyError 异常
2.在这个代码中，defaultdict(int) 表示默认值为 0（int() 的返回值是 0）

这在代码中的好处是：

- 不需要先检查键是否存在，直接使用 cnt[x] 即可
- 首次遇到某个数字时，cnt[x] 会自动初始化为 0
- 简化了代码逻辑，不需要写 if x not in cnt: cnt[x] = 0 这样的判断


**复杂度分析**
- 时间复杂度：$O(n)$，其中 n 是 nums 的长度。
- 空间复杂度：$O(n)$。

# 暴力

```python
class Solution:
    def numIdenticalPairs(self, nums: List[int]) -> int:
        sums = 0
        for i in range(len(nums)):
            for j in range(i+1,len(nums)):
                if nums[i] == nums[j]:
                    sums += 1
        return sums
```

**复杂度分析**
- 时间复杂度：$O(n^2)$
- 空间复杂度：$O(1)$
